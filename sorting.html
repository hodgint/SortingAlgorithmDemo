<!DOCTYPE html>
    <head>
        <title> Sorting Algorithms </title>
        <script src="js/lib/jquery-3.4.1.min.js"></script>
        <script src="js/lib/bootstrap.min.js"> </script>
        <script src='js/sort.js'></script>
        <link href="css/lib/bootstrap.min.css" rel="stylesheet">
        <link href="css/style.css" rel="stylesheet">
        <style>
        </style>
    </head>
    <body>
         <div class='nav-justified'>
            <nav class="navbar  navbar-expand-lg navbar-dark bg-dark">
                <span class="navbar-brand mb-0 h1">Sorting Algorithms</span>
                <a class="nav-link" href="index.html">Home</a>
                <a class="nav-link" href="sorting.html">Sorting <span class="sr-only">(current)</span></a>
                </nav>  
            </nav>
        </div>
        <div class='container-fluid' id='sortPage'>
            <div class='row'>
                <!-- Left side panel-->
                <div class='col-xs-3' id='sidebar' style="padding: 20px;">
                    <div class='form-group'>
                        <label for='#arrSize'>Array size</label>
                        <input id='arrSize' class='form-control' type='number' value="25"/>
                    </div>
                    <div class="form-group">
                        <label for='#algoSelect'>Algorithm</label>
                        <select class='form-control'id='algoSelect'>    
                            <option value='bubble'>Bubble Sort</option>
                            <option value='selection'>Selection Sort</option>
                            <option value='insertion'>Insertion Sort</option>
                            <option value='merge'>Merge Sort</option>
                            <!-- <option value='quick'>Quick Sort</option> -->
                            <!-- <option value='heap'>Heap Sort</option> -->
                        </select>
                    </div>
                    <div class='form-group'>
                            <label for='#interval'>Interval (ms)</label>
                            <input id='interval' class='form-control' type='number' value="25"/>
                          </div>
                    <div class='text-center'>
                        <button class='btn btn-lg btn-primary' id='start'>Start</button>
                    </div>
                    <p id="timer" style="padding: 5px"> </p>
                </div>
                <!-- Canvas-->
                <div class='col-xs-9' id='canvas-div'>
                    <canvas width="800px" height="600px" id="main-canvas" style="padding-top: 5px;">
                </div>
                <!-- Right sidebar -->
                <div class='col-sm-3' id='explanation'  style="width:800px">
                    <div class='container-fluid'>
                           
                        <h3 style="text-decoration: underline;">Explanation</h3>
                        <p id='explanationPara'> This is where we will explain how the algorithm works</p>
                    </div>
                    <div class='container' id='code' style="width:800px">
                            <h3 style="text-decoration: underline;">Pseudo Code</h3>
                            <pre id='codeSnippet'>This will display the pseudo code for the algorithm</pre> 
                    </div>
            </div>
        </div>

        <script> 
        $(function(){
            let canvas = document.getElementById('main-canvas')
            sort.drawBorder(canvas);
            let mainArr = null;
            $('#start').click(function(){
                if(mainArr !== null ) mainArr.stop();
                let arrSize = parseInt($('#arrSize').val());
                let interval = parseInt($('#interval').val());
                let alg =  $('#algoSelect').val();
                let sortFunction = sort.getAlgo(alg);
                let arr = [];
                for(let i = 0; i < arrSize; i++){
                    arr.push(Math.random()); 
                }
                let explain = sort.getExplaination(alg);
                $('#explanationPara').text(explain);
                let code = sort.getCode(alg);
                $('#codeSnippet').text(code);
                mainArr = new sort.animateArr(arr, canvas, interval);
                sortFunction(mainArr);
                let timing = setInterval(timer, interval);
            });
            function timer(){
                let timer = document.getElementById('timer');
                let time = sort.getTime();
                time = time / 1000
                $('#timer').text("Timer: " + time + "\t s");
                if(sort.getStillTiming() === false){
                    $('#timer').css('color', '#008000');
                }
            }
        });
        </script>
    </body>
</html>